<html><head><title>OSXvnc FAQ</title><meta name=title content="OSXvnc FAQ"><meta name=Keywords content="OSX vnc OSXvnc FAQ"><meta http-equiv=Content-Type content="text/html; charset=macintosh"><!-- <meta http-equiv=Refresh content="1;URL=http://www.redstonesoftware.com/osxvnc/OSXvnc.html"> --><style>.content {	font-family: Verdana, Arial, Helvetica, sans-serif;	font-size: 11px;	font-style: normal;	line-height: 14pt;	color: #333333;}.headline {	font-family: Verdana, Arial, Helvetica, sans-serif;	font-size: 12pt;	font-style: normal;	line-height: 18pt;	color: #333333;}code {	font-family:Courier	font-size: 11px;	font-style: normal;	line-height: 14pt;}a:link {color: #ff6600;} a:visited {color: #669900;} a:hover {color: #cc3300;}</style></head><body bgcolor=white lang=EN-US link=blue vlink=purple style='tab-interval:.5in'><div class=Section1><p  align=center style='text-align:center'>&nbsp;</p><div align=center><table border=0 cellspacing=0 cellpadding=0 border-collapse:collapse;mso-padding-alt:0in 5.4pt 0in 5.4pt'> <tr style='height:64.75pt'>  <td width=113 valign=top style='width:113.45pt;padding:0in 5.4pt 0in 5.4pt;  height:64.75pt'>  <img width=96 height=95 src="OSXvnc.jpg">  </td>  <td valign=top style=;padding:0in 5.4pt 0in 5.4pt;  height:64.75pt'>  <p  align=center style='text-align:center'><span  style='font-size:22.0pt'>OSXvnc 1.71</span></p>    <p  align=center style='text-align:center;font-size:12.0pt'>Frequently Asked Questions</p>  <p  align=center style='text-align:center'>(Last Modified: 26 January 2006)</p>  </td> </tr></table></div><div style='border:solid windowtext .5pt;padding:1.0pt 31.0pt 1.0pt 31.0pt'><p><span style='font-size:12.0pt;font-family:"Times New Roman";color:black'>OSXvnc is provided by Redstone Software for use with <font color="#9f81bd"><B>Eggplant: The solution for cross-platform automation and testing</B></font><br>For the latest information onOSXvnc, including the latest FAQ, please visit: </span><span style='font-size:14.0pt;font-family:"Times New Roman";color:#3366CC'><u><a href="http://www.redstonesoftware.com/osxvnc">http://www.redstonesoftware.com/osxvnc</a></u></span><BR><BR>For additional information not covered in this FAQ please visit: <a href="http://faq.gotomyvnc.com">http://faq.gotomyvnc.com</a></p><p><b><A name=VNC>Q: What is VNC?<a></b></p><p><b>A: </b>VNC stands for Virtual Network Computing. It is remote control software which allows you to view and interact with one computer (the "server") using a simple program (the "viewer") on another computer anywhere on the Internet. The two computers don't even have to be the same type, so for example you can use VNC to view and control a MacOS X machine at home on your Windows machine at the office. VNC is freely and publicly available and is in widespread active use by millions.<BR></P><p><b><A name=VNC>Q: What is <font color="#9f81bd"><B>Eggplant?</B></font>  Why does Redstone Software provide OSXvnc?<a></b></p><p><b>A: </b>If you've ever thought that it would be convenient to generate scripts that could interact with a remote VNC machine through the interface exactly the way a user can - then that's what Eggplant is!  It's a powerful tool for cross-platform automation and testing.  If you are interested in learning more about it, please visit <a href=http://www.redstonesoftware.com/technology.html>Redstone Software</a>.</b></p><p><b><A name=Clients>Q: OSXvnc only contains a server, where's the client to connect to my machine?<a></b></p><p><b>A: </b>That's right - OSXvnc is only a server.  There are a number of VNC Clients available for OS X, we recommend these:<BR><a href="http://cotvnc.sourceforge.net/" target="_blank">Chicken Of The VNC</a><BR><a href="http://www.mdimension.com/cgi-bin/WebObjects/MDTWebsite.woa/1/wa/viewPage?pageName=Software" target="_blank">VNCDimension</a></span><BR><a href="http://www.redstonesoftware.com/Download/VNCThing2.2.sit" target="_blank">VNCThing (also supports MacOS 8/9)</span></p><p><b><A name=Firewall>Q: OSXvnc is running but I can't connect to it/How do I configure my Firewall to allow OSXvnc?</a></b></p><p><b>A: </b>If you don't see anything in the OSXvnc log then your network isn't allowing the connection.  The most likely cause of this is that your MaxOS X machine is running the built-in firewall.  You can configure the firewall to allow port 5900 (or whichever port VNC is running on). Using the System Preferences application go to Sharing and then Firewall. On that panel, "Add.." another service for port 5900 and call it VNC</span></p><p><b><A name=External>Q: How can I connect to my home machine from outside my home/across the internet?<a></b></p><p><b>A: </b>First, if your machine is behind a device that does NAT like a Firewall, Router or Cable/DSL modem then please read the following FAQ.  If not, then you need to get the IP address of your computer.  It will be shown in the System Prefernces application under Network and will consist of four numbers with dots between them.  In your VNC client just use this number to connect to your computer from an external network.  You can also go to this handy link from the machine running OSXvnc to verify the IP address: <a href=http://www.gotomyvnc.com/ target=_blank>http://www.gotomyvnc.com<a><BR></span></p><p><b><A name=NAT>Q: How can I connect to a machine that is behind a Cable/DSL Modem or NAT Firewall?</a></b></p><p><b>A: </b>When working through a network address translation (NAT) device like a Cable/DSL Modem, Router, or Firewall you will need to setup "Port Forwarding" on the device to forward the VNC port (5900 by default) from that device to the internal IP address of the machine running OSXvnc (the internal IP will look like 192.168.X.X, 10.X.X.X, or 127.0.0.X). For further details on setting up port forwarding please read your device's documentation or refer to the following helpful website: <a href=http://www.portforward.com/ target=_blank>http://www.portforward.com</a>.<BR><BR>Not all devices offer port forwarding, for those that do not, you can set your Mac to be the designated DMZ host for the NAT but this has the effect of forwarding ALL ports from the internet to your Macintosh.  If you need to go this route we highly recommend you <a href=#Firewall>enable the Firewall on your MacOS X machine and ONLY allow port 5900 to pass through</a>.<BR><BR>Once the port for VNC has been directed toward your Macintosh you should be able to connect via an external VNC client to your Network's External (or WAN) IP address.  This number will be substantially different from the internal IP of your computer and can usually be found by looking at the modem configuration information or else by visiting this handy page from the machine running OSXvnc to get your IP and check your VNC access: <a href=http://www.gotomyvnc.com/ target=_blank>http://www.gotomyvnc.com</a></span></p><p><b><A name=MultipleSessions>Q: Can I setup OSXvnc to allow a remote user to work in his own desktop without disrupting the user at the machine(like X-Windows)?</A></b></p><p><b>A: </b>Yes, if you are using MacOS 10.4 (TIGER).  Please read this separate guide on <a href=http://www.redstonesoftware.com/multidesktop.html>Multiple Desktop Sessions on MacOS 10.4 - TIGER</A>.</span></p><p><b><A name=IncompatibleVersion>Q: Why am I getting an "Incompatible Version" error message when I attempt to connect to OSXvnc?<a></b></p><p><b>A: </b>The problem is that you aren't connecting to OSXvnc but instead are connecting to the Apple Remote Desktop agent, which also runs on port 5900.<BR><BR>We recommend that you disable ARD by unchecking it in the System Preferences -> Sharing -> Services panel.  Alternatively, you can connect to OSXvnc on a different port.  It is probably running on port 5901 if it found a conflict on port 5900.</p><p><b><A name=APE>Q: The OSXvnc application launches fine the first time but after that it just bounces in the Dock and never launches?<A></b></p><p><b>A: </b>This is most likely because you are running APE from unsanity.org.  In some situations APE can corrupt the OSXvnc bundle to the point where it can no longer function.  Try adding the OSXvnc application to the "exclude" list in the Ape Manager preference pane and re-installing OSXvnc. If that does not solve your problem please contact support at <a href=mailto:urgent@unsanity.org>urgent@unsanity.org</A>.</span></p><p><b><A name=BindSocket>Q: When I start OSXvnc it stops immediately with the error: "Unable to Bind Socket"?<a></b></p><p><b>A: </b>This means that OSXvnc can't listen on the specified port, this is almost always because another VNC is already listening, often because OSXvnc has already been set as a startup item.  You can check to see with the following Terminal command:<BR><code>ps -auxwww | grep -i '[v]nc'</code><BR>If this reports anything then vnc is probably already running, if it's another instance of OSXvnc read the FAQ <I>"I've setup OSXvnc as a Startup item, how can I turn it off"</I> for instructions on how to stop it.<BR>Keep in mind that if you are running Apple Remote Desktop 2.0 that it WILL use port 5900 and prevent OSXvnc from using that port, please choose a different port for OSXvnc.</span></p><p><b><A name=International>Q: I am using anInternational keyboard (or keyboard layout) and the characters don't come upappropriately.</a></b></p><p><b>A: </b>Currently OSXvnc doesn't handle this as well as wewould like. Part of the problem is that if both the remote and local users areusing an international keyboard layout the keystrokes actually getdouble-corrected, thus producing the standard US keys. Try setting one of thekeyboards back to US; this works a bit better.</span></p><p><b><A name=Uninstall>Q: How do I uninstall OSXvnc?</A></b></p><p><b>A: </b>Normally you can just move the entire OSXvnc application into your trash.<BR>However, if you've configured OSXvnc as a Startup Item (so that it launches at boot time) we recommend that you use the "Disable Startup Item" button on the Startup Tab for OSXvnc first.  Alternatively, you can remove the /Library/StartupItems/OSXvnc folder in addition to the OSXvnc application and then reboot.</p><p><b><A name=Performance>Q: I'm connecting to a system using VNC and it's not very fast, how can I improve the refresh rate/performance of OSXvnc?<a></b></p><p><b>A: </b>One thing you can do is look at your selected encoding, you don't always want to choose the strongest one, it takes more CPU time on the VNC server and VNC client machine.  We've found that for a LAN you are actually better off with Hextile, Zlib (Raw) or Zlib (Hextile) than the stronger compressions ZRLE and Tight (which are better over low bandwidth).  This can very based on your machines as well, if they are G5's go ahead with the stronger encodings. G3's are very slow machines at this point for both clients and servers and so VNC is pretty slow on these no matter what you do, in a LAN environment you might even consider going with RAW (no encoding) for these machines.<BR><BR>Also, keep in mind that MacOS X uses a LOT of colors, more than some operating systems, there is shading and coloring going on in places you wouldn't even notice, but it's there.  As just an example, if you have font smoothing set for a flat panel monitor your "Black" letters actually have red on one side and blue on the other(<a href=http://www.redstonesoftware.com/osxvnc/AAExample.jpg target="_blank">illustrated here</A>), this is much harder on VNC than just two pixel colors. You can improve this by launching System Preferences, going to the "Appearance" tab and setting your font smoothing to Standard.<BR><BR>Another factor which many people ignore is the desktop background,  Apple ships with a number of lovely backgrounds but they have millions of colors, so each time your desktop is exposed VNC has to resend that part of the intensive image.  Instead set your background to the monotone white, grey or black, which is fast for VNC to send.</p><!--<p><b><A name=Clients>Q: I just download OSXvnc 1.61 and it's using up all my CPU cycles!<a></b></p><p><b>A: </b>Unfortunately, the original file of OSXvnc 1.61 uploaded to Sourceforge on 8/9/05 was corrupt in that it will consume spare CPU cycles while it is running.  We greatly regret this error and apologize for any inconvenience it may have caused.<BR><BR>You may use this link to be sure to get a clean build that does not cause this problem:<BR><a href=http://prdownloads.sourceforge.net/osxvnc/OSXvnc1.6.1.dmg?download>http://prdownloads.sourceforge.net/osxvnc/OSXvnc1.6.1.dmg?download</A><BR><BR></p>--><p><b><A name=TIGER>Q: I've configured OSXvnc as a Startup using the latest 10.4 TIGER and it isn't starting up?<a></b></p><p><b>A: </b>It's a permissions problem that is addressed in version 1.5 of OSXvnc.  We rcommend updating to the latest OSXvnc.<BR></span></p><p><b><A name=CLI>Q: How can I start up OSXvnc from a command line?</A></b></p><p><b>A: </b> To startup OSXvnc from command line, go inside the Applicationdirectory(OSXvnc.app) and launch the OSXvnc-server process.<spanstyle="mso-spacerun: yes">&nbsp; </span>To change parameters you will need togive it arguments (-rfbport to set port, -vncauth to specify a password file,etc).<span style="mso-spacerun: yes">&nbsp; </span>For usage run the commandwith -help. For example:</span><BR><code>/Applications/OSXvnc.app/osxvnc-server -rfbport 5901</code></p><p><b><A name=FUS>Q: I'm using 10.3 (Panther) and when I do a Fast User Switch I'm no longer able to control the remote machine.</A></b></p><p><b>A: </b>This is a know bug in Apple's control API.  It was probably designed with security in mind and attempts to work past it by allowing authentication, etc have not been succesful.  We hope to discuss this problem with Apple and have a good solution in the future.  In the meantime, you must switch back to the original user or else launch a new server, perhaps via command line, to connect to.</span></p><p><b><A name=encodings>Q: What encodings does OSXvnc support?</b></p><p class=MsoNormal style='border:none;mso-border-alt:solid windowtext .5pt;padding:0in;mso-padding-alt:1.0pt 31.0pt 1.0pt 31.0pt'><b>A: </b><spanstyle='font-weight:normal'>As far as we are aware OSXvnc supports all known encodings for VNC except ULTRA.  This includes Raw, RRE, CoRRE, Hextile, Zlib (Full), Zlib (Hextile), ZRLE, and Tight (with optional JPEG).  If you have a problem with any of these encodings or know of other encodings that we should support please send us an email.</span></p><p><b><A name=OS9>Q: OSXvnc is only for MacOS X, what about MacOS 9?</A></b></p><p><b>A: </b>For a MacOS 9 VNC client please use, <a href="http://www.redstonesoftware.com/Download/VNCThing2.2.sit" target="_blank">VNCThing</a>.<BR>For a MacOS 9 VNC server Redstone Software also offers OS9vnc, it can be downloaded here:<BR><a href="http://www.redstonesoftware.com/Download/OS9vnc.sit" target="_blank">http://www.redstonesoftware.com/Download/OS9vnc.sit</a><BR>NOTE: At this time closing the OS9vnc log window will shutdown the server - please leave the log window running.<BR></p><p><b><A name=NoDisplay>Q: When trying to launch OSXvnc command line it fails with the error "kCGErrorIllegalArgument : initCGDisplayState: cannot map display interlocks" (MacOS 10.1 and 10.2) or it fails with the error "kCGErrorRangeCheck : Window Server communications from outside of session allowed for root and console user only" (MacOS 10.3 and MacOS 10.4)</A>.</b></p><p><b>A: </b>This happens if you try to launch as an unpriviledged user. A priviledged user is either the user who is currently logged into the GUI or the ROOT user.  Try launching the server using the sudo command (or configuring the application to autostart using the system startup item).</span></p><p><b><A name=Browser><A name=Java><A name=WebServer>Q: How can I connect to OSXvnc using a web browser?<BR>Q: Is there a Web Server with OSXvnc or a Java applet integrated into OSXvnc?</A></b></p><p><b>A: </b>The way this works is that you connect to a webserver which then serves the Java Applet to your browser, allowing you to connect without a stand-alone client.  This isn't available directly within OSXvnc.  Instead you can perform the following steps:<OL><LI>Downloading a VNC Client Java applet. We didn't port the Java applet, but a copy of it can be <a href="http://www.redstonesoftware.com/osxvnc/vncjava.tgz">downloaded here</a>.</LI><LI>Put that directory it in your user's "Sites" directory.</LI><LI>Note: You may need to modify the vncjava/index.html file to match the port number and other configurable settings.<LI>Enable web serving on your machine (System Preferences->Sharing, check "Personal Web Sharing").</LI><LI>Access the Java applet using a URL like http://MACHINE'S_IP/~USERNAME/vncjava/ </LI></OL></p><p><b><A name=x2vnc>Q: I'm using x2vnc or win2vnc and it seems slow.  Is there a way to run OSXvnc without the slowdown from having the screen updates sent?</A></b></p><p><b>A: </b>Version 1.61 and above should be better with *2vnc type clients.  We also highly recommend using <a href=http://www.enigmarelle.com/broadbandoptimizer.py target=_blank>Broadband Optimizer</a> to optimize your network traffic.<BR>Additionally, we have had good luck running OSXvnc with <a href=http://www.opendarwin.org/projects/osx2x/ target=_blank>osx2x</a> running against OSXvnc 1.5 on a 10.3 machine.</p><p><b><A name=SSH>Q: How can I have myconnection to OSXvnc tunnel through SSH?</A></b></p><p><b>A: </b>Since MacOS X ships with SSH support built in this ispretty easy.<span style="mso-spacerun: yes">&nbsp; </span>First you will wantto make sure your VNC machine has SSH running. You can turn this on in theSystem Preferences -&gt; Sharing Panel by checking the box for &quot;RemoteLogin&quot;.<span style="mso-spacerun: yes">&nbsp; </span>Then you need an SSHclient on the machine you want to connect from (again, it's there by default onMacOS X). For the rest of the instructions read the VNC page <ahref="http://www.cl.cam.ac.uk/Research/DTG/attarchive/vnc/sshvnc.html">http://www.cl.cam.ac.uk/Research/DTG/attarchive/vnc/sshvnc.html</a></span><b>.</b><span style='font-weight:normal'><BR>If you use the "-localhost" option inOSXvnc you will need to literally specify "127.0.0.1" when you make your sshport forwarding call, like this example:<br><code>ssh -L 5905:127.0.0.1:5900 mydomain.com</code><BR>NOTE: In MacOS 10.3 (Panther) and above localhost is defined as it's IPv6 version - this doesn't work for VNC so specify 127.0.0.1</span><b></b></p><p><b><A name=MultipleMonitors>Q: Does OSXvnc support multiple displays?</A></b></p><p><b>A: </b>Officially OSXvnc does not support multiple monitors at this time, it is on our list of future enhancements.<BR>We do have a BETA feature for view only on displays besides the primary display.   This feature is available only from command line.  If you launch OSXvnc with the arguments<BR><code>"-disableRemoteEvents -display" #displayNumber#<BR></code> then that VNC server will serve the display associated with that number, starting at 0 for the primary display.  Unfortunately you must disable events becaue the event translation logic has not yet been added.</span></p><p><b><A name=Headless>Q: I'm running a headless MacOS X machine and OSXvnc doesn't work.</A></b></p><p><b>A: </b>When MacOS X starts up on older systems it will disable certain video functions when no monitor is plugged in. We are looking at ways to solve this in OSXvnc, but for the time being you canpurchase a dongle that makes the MacOS X machine think that a monitor is pluggedin.&nbsp;&nbsp;<BR><a href="http://www.drbott.com/prod/db.lasso?code=0101-GHED">DrBott has one called gHEAD available here</a>.</span></p><p><b><A name=StartupItem>Q: How can I setupOSXvnc as a boot-time Startup Itme without needing a user logged in?</A></b></p><p><b>A: </b>OSXvnc 1.3 and above can setup this mode for you.  Please go to the "Startup" panel and press the "Setup Startup Item" button.  You will need to authenticate as a user with privilege to administer the machine.  Once you have, OSXvnc will set itself to start up the next time your machine boots.  In this mode you don't need to launch the GUI application, the server will be running all the time.<BR>If you want to do it by hand you will need to copy the OSXvnc.app/Contents/Resources/OSXvnc folder into /Library/StartupItems and then modify the OSXvnc file by hand.<BR><B>NOTE:</B> Due to Apple security restrictions VNC clients will NOT have access to the pasteboard (Cut&Paste) of the MacOS X machine.</span></p><p><b><a name=DisableStartup>Q: I've setup OSXvnc as a Startup item, how can I turn it off?</A></b></p><p><b>A: </b>Starting with 1.32 the GUI can do this for you on the Startup tab.  If you want to turn it off temporarily but have it continue to startup then you want to issue the following command:<BR><code>sudo /Library/StartupItems/OSXvnc/OSXvnc stop</code><BR>If you want to stop OSXvnc from starting up automatically any longer you can also remove the startup directory.  This command will do that:<BR><code>sudo rm -rf /Library/StartupItems/OSXvnc</code><BR></span></p><p><b><A name=Executables>Q: Where are the storepasswd and OSXvnc-server executables?</A></b></p><p><b>A: </b> The OSXvnc-server and storepasswd executables arenow stored in the /Contents/MacOS directory and are linked from the rootOSXvnc.app directory as well as the /Contents/Resources directory. Thisprevents the GUI from launching a second dock icon when they are executed. </span></p><p><b><A name=Logout>Q: I've set up OSXvnc as a boot-time Statup Item but when a user logs out it breaks the server.</A></b></p><p><b>A: </b>This should be fixed with the 1.11 version of the startupscript so that at least the server restarts.<span style="mso-spacerun: yes">&nbsp; </span>This is a workaround for a behavior in MacOS X that kills all user processes when a user logs out.</p><p><b><A name=Source>Q: OSXvnc is open source, so....where's the source?</A></b></p><p><b>A: </b>Our source code is available at Sourceforge via CVS. Please try it at: <ahref="http://sourceforge.net/projects/osxvnc/">http://sourceforge.net/projects/osxvnc</a><b>.</b></p><p><b><A name=Future>Q: What are you looking at adding for future versions?</A></b></p><p><b>A: </b>Outside of bugs fixes, on our list at the moment (in some rough approximation of order) are...<UL><LI>Adding an indicator when users are connected</LI><LI>Improving International Keyboard support</LI><LI>Adding support for Multiple Monitor Support</LI><LI>Improving Statup Item (System Prefs Pane, fixing Pasteboards, and the shutdown on logout thing)</LI></UL></p><p><b><A name=Developer>Q: I'm a developer and would like to help with OSXvnc.</A></b></p><p><b>A: </b>Great!&nbsp;Please send email to <a href="mailto:%20osxvnc@redstonesoftware.com">osxvnc@redstonesoftware.com</a>.</p></div></div></body></html>